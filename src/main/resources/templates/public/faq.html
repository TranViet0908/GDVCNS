<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{layouts/public/head :: head}"></head>

<body>
<header th:insert="~{layouts/public/header :: header}"></header>

<section class="page-header text-center">
    <div class="container animate__animated animate__fadeInDown">
        <h1 class="display-4 fw-bold mb-3">Câu Hỏi Thường Gặp</h1>
        <p class="lead text-white-50 mx-auto" style="max-width: 600px;">
            Giải đáp những thắc mắc phổ biến về khóa học và dịch vụ của GDVCNS.
        </p>
    </div>
</section>

<section class="section-padding bg-light-section">
    <div class="container">
        <div class="row g-4 align-items-start">

            <div class="col-lg-8 animate-on-scroll">

                <div class="bg-white p-4 rounded-4 shadow-sm mb-4 text-center search-box-wrapper">
                    <h5 class="fw-bold mb-3">Bạn chưa tìm thấy câu trả lời?</h5>
                    <form th:action="@{/cau-hoi-thuong-gap}" method="get">
                        <div class="input-group" style="max-width: 500px; margin: 0 auto;">
                            <span class="input-group-text bg-white border-end-0"><i class="fas fa-search text-muted"></i></span>
                            <input type="text" class="form-control border-start-0 ps-0"
                                   name="keyword" th:value="${keyword}"
                                   placeholder="Nhập từ khóa tìm kiếm...">
                            <button type="submit" class="btn btn-primary px-4">Tìm kiếm</button>
                        </div>
                    </form>
                </div>

                <div class="accordion custom-accordion" id="faqAccordion">
                    <div class="accordion-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden"
                         th:each="faq, iter : ${faqList}">
                        <h2 class="accordion-header" th:id="'heading' + ${iter.index}">
                            <button class="accordion-button fw-bold py-3 collapsed" type="button"
                                    data-bs-toggle="collapse"
                                    th:data-bs-target="'#collapse' + ${iter.index}"
                                    aria-expanded="false"
                                    th:aria-controls="'collapse' + ${iter.index}"
                                    style="background-color: white; color: var(--primary);">
                                <span class="me-3 text-accent fw-bold" th:text="${iter.count + '.'}">1.</span>
                                <span th:text="${faq.question}">Câu hỏi?</span>
                            </button>
                        </h2>
                        <div th:id="'collapse' + ${iter.index}" class="accordion-collapse collapse"
                             th:aria-labelledby="'heading' + ${iter.index}"
                             data-bs-parent="#faqAccordion">
                            <div class="accordion-body bg-white text-muted lh-lg" style="border-top: 1px solid #f1f5f9;">
                                <div class="formatted-content" th:utext="${faq.answer}">Nội dung...</div>
                            </div>
                        </div>
                    </div>

                    <div th:if="${faqList.empty}" class="text-center py-5 bg-white rounded-4 shadow-sm">
                        <p class="text-muted mb-0">Không tìm thấy kết quả nào phù hợp.</p>
                        <a th:href="@{/cau-hoi-thuong-gap}" class="btn btn-link text-decoration-none mt-2">Xem tất cả</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 animate-on-scroll">
                <div class="sidebar-static-wrapper">
                    <div class="card-modern border-0 shadow-sm p-4 bg-white">
                        <div class="text-center mb-4">
                            <div class="icon-box bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
                                 style="width: 70px; height: 70px;">
                                <i class="fas fa-headset fs-3"></i>
                            </div>
                            <h5 class="fw-bold mb-2">Hỗ trợ trực tiếp</h5>
                            <p class="text-muted small">Đội ngũ tư vấn viên sẵn sàng hỗ trợ 24/7.</p>
                        </div>

                        <div class="d-grid gap-3">
                            <a th:href="|tel:${siteHotline}|" class="btn btn-outline-primary rounded-pill py-2 fw-bold">
                                <i class="fas fa-phone-alt me-2"></i> Gọi Hotline
                            </a>
                            <a href="https://zalo.me" target="_blank" class="btn btn-primary rounded-pill py-2 text-white fw-bold">
                                <i class="fas fa-comment-dots me-2"></i> Chat Zalo
                            </a>
                            <a th:href="@{/lien-he}" class="btn btn-light rounded-pill py-2 fw-bold border">
                                <i class="fas fa-envelope me-2"></i> Gửi câu hỏi
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<footer th:insert="~{layouts/public/footer :: footer}" class="footer-modern"></footer>
<div th:insert="~{layouts/public/scripts :: scripts}"></div>
</body>
</html>