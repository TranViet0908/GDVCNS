<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{layouts/public/head :: head}"></head>

<body>
<header th:insert="~{layouts/public/header :: header}"></header>

<section class="page-header text-center">
    <div class="container animate__animated animate__fadeInDown">
        <h1 th:text="${project.title}" class="display-5 fw-bold mb-3">Tên Dự Án</h1>
        <nav aria-label="breadcrumb" class="d-flex justify-content-center">
            <ol class="breadcrumb mb-0 p-2 rounded-pill bg-white bg-opacity-10 backdrop-blur">
                <li class="breadcrumb-item"><a th:href="@{/}" class="text-white text-decoration-none">Trang chủ</a></li>
                <li class="breadcrumb-item"><a th:href="@{/du-an}" class="text-white text-decoration-none">Dự án</a></li>
                <li class="breadcrumb-item active text-white-50" aria-current="page">Chi tiết</li>
            </ol>
        </nav>
    </div>
</section>

<section class="section-padding bg-white">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 animate-on-scroll">
                <img th:src="${project.thumbnailUrl != null ? project.thumbnailUrl : 'https://via.placeholder.com/800x400'}"
                     class="img-fluid rounded-4 mb-5 shadow-sm w-100"
                     th:alt="${project.title}">

                <div class="ps-lg-3">
                    <h3 class="fw-bold text-primary mb-4 border-bottom pb-2 d-inline-block">Tổng quan dự án</h3>
                    <div class="project-description formatted-content text-dark" th:utext="${project.content}">
                    </div>
                </div>

                <div class="mt-5 pt-5" th:if="${not #lists.isEmpty(relatedProjects)}">
                    <h4 class="fw-bold mb-4 border-start border-4 border-primary ps-3">Dự án tiêu biểu khác</h4>
                    <div class="row g-4">
                        <div class="col-md-6" th:each="related : ${relatedProjects}">
                            <div class="card-modern h-100 d-flex flex-row align-items-center p-3 bg-light rounded-4 border-0 shadow-sm group-hover-parent">
                                <img th:src="${related.thumbnailUrl != null ? related.thumbnailUrl : 'https://via.placeholder.com/100'}"
                                     class="rounded-3 me-3 object-fit-cover shadow-sm transition-transform"
                                     style="width: 100px; height: 80px;" alt="Thumb">
                                <div>
                                    <h6 class="mb-1 fw-bold">
                                        <a th:href="@{/du-an/{slug}(slug=${related.slug})}"
                                           class="text-decoration-none text-dark hover-accent line-clamp-2"
                                           th:text="${related.title}">Tên dự án</a>
                                    </h6>
                                    <span class="badge bg-white text-muted border rounded-pill fw-normal" style="font-size: 0.7rem;">
                                        <i class="far fa-calendar-alt me-1"></i> <span th:text="${#temporals.format(related.publishedAt, 'MM/yyyy')}">Date</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 animate-on-scroll" data-delay="200">
                <div class="card-modern shadow-lg border-0 rounded-4 p-4 sticky-top bg-light">
                    <h5 class="fw-bold mb-4 text-dark">Thông tin triển khai</h5>

                    <ul class="list-unstyled">
                        <li class="mb-3 border-bottom pb-3 border-light-subtle">
                            <span class="d-block text-muted small text-uppercase fw-bold mb-1">Lĩnh vực</span>
                            <span class="fw-bold text-primary fs-5" th:text="${project.categoryName}">Category</span>
                        </li>
                        <li class="mb-3 border-bottom pb-3 border-light-subtle">
                            <span class="d-block text-muted small text-uppercase fw-bold mb-1">Thời gian</span>
                            <span class="fw-bold text-dark" th:text="${#temporals.format(project.publishedAt, 'dd/MM/yyyy')}">Date</span>
                        </li>
                        <li class="mb-3 border-bottom pb-3 border-light-subtle">
                            <span class="d-block text-muted small text-uppercase fw-bold mb-1">Đơn vị thực hiện</span>
                            <span class="fw-bold text-dark" th:text="${project.authorName}">GDVCNS Team</span>
                        </li>
                        <li class="mb-4">
                            <span class="d-block text-muted small text-uppercase fw-bold mb-1">Mức độ quan tâm</span>
                            <div class="progress" style="height: 8px;">
                                <div class="progress-bar bg-accent" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <small class="text-muted mt-1 d-block"><span th:text="${project.viewCount}">0</span> lượt xem</small>
                        </li>
                    </ul>

                    <a th:href="@{/lien-he}" class="btn btn-modern btn-primary-modern w-100">
                        <i class="far fa-handshake me-2"></i> Liên hệ hợp tác
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<footer th:insert="~{layouts/public/footer :: footer}" class="footer-modern"></footer>
<div th:insert="~{layouts/public/scripts :: scripts}"></div>
</body>
</html>